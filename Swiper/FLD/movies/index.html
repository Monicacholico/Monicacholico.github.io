<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300..800&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="style.css" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"
        />
        <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
        <link rel="stylesheet" href="style.css" />
        <title>Document</title>
    </head>
    <body>
        <!-- Language Switcher -->
        <div class="language-switcher">
            <button id="lang-en" class="lang-btn active">EN</button>
            <button id="lang-es" class="lang-btn">ES</button>
        </div>

        <div class="swiper">
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper">
                <!-- Slides -->
            </div>
            <!-- If we need pagination -->
            <div class="swiper-pagination"></div>

            <!-- If we need navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>

            <!-- If we need scrollbar -->
            <!-- <div class="swiper-scrollbar"></div> -->
        </div>

        <!-- Movie Grid Section -->
        <section class="movie-grid-section">
            <h2 class="grid-title" data-lang-en="Ballet Movies Collection" data-lang-es="Colección de Películas de Ballet">Ballet Movies Collection</h2>
            <div class="movie-grid" id="movieGrid">
                <!-- Movie cards will be generated by JavaScript -->
            </div>
        </section>

        <script>
            // Data for slides with bilingual content
            const data = [
                {
                    id: "white-nights",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/White-nights-movie-e1768341503781.png",
                    headline: {
                        en: "White Nights",
                        es: "Noches Blancas",
                    },
                    description: {
                        en: "Two dancers,two defectors, one past love, one passion, one scape in the middle of a white night. ",
                        es: "Dos bailarines, dos desertores, un amor pasado, una pasión, un escape en medio de una noche blanca.",
                    },
                    plot: {
                        en: "A Russian ballet dancer defects to the United States, only to be forced to return to the Soviet Union when his plane makes an emergency landing. There, he meets a black American tap dancer who has defected to Russia, and together they must find a way to escape.",
                        es: "Un bailarín de ballet ruso deserta a Estados Unidos, solo para ser obligado a regresar a la Unión Soviética cuando su avión hace un aterrizaje de emergencia. Allí, conoce a un bailarín de tap estadounidense negro que ha desertado a Rusia, y juntos deben encontrar una manera de escapar.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Apple TV",
                        es: "Disponible en Amazon Prime Video, Apple TV",
                    },
                    backgroundColor: "#3076b1",
                },
                {
                    id: "center-stage",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/Center-stage-movie-e1768341581820.png",
                    headline: {
                        en: "Center Stage",
                        es: "En el Centro del Escenario",
                    },
                    description: {
                        en: "A young dancer struggles to fit and make it at a prestigious ballet school.",
                        es: "Una joven bailarina lucha por encajar y triunfar en una prestigiosa escuela de ballet.",
                    },
                    plot: {
                        en: "Three young dancers arrive in New York to train at the American Ballet Academy. As they struggle with the demands of professional ballet, they must also navigate personal relationships and discover what it truly means to be a dancer.",
                        es: "Tres jóvenes bailarinas llegan a Nueva York para entrenarse en la American Ballet Academy. Mientras luchan con las demandas del ballet profesional, también deben navegar relaciones personales y descubrir qué significa realmente ser bailarina.",
                    },
                    whereToWatch: {
                        en: "Available on Netflix, Amazon Prime Video",
                        es: "Disponible en Netflix, Amazon Prime Video",
                    },
                    backgroundColor: "#474b51",
                },
                {
                    id: "the-company",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/The-company-movie-e1768341659134.png",
                    headline: {
                        en: "The Company",
                        es: "La Compañía",
                    },
                    description: {
                        en: "An intimate look at the lives of ballet dancers in a prestigious company.",
                        es: "Una mirada íntima a las vidas de los bailarines de ballet en una compañía prestigiosa.",
                    },
                    plot: {
                        en: "Set over the course of one performance season, this film follows the Joffrey Ballet of Chicago and a young dancer as she prepares for her role in the company's latest production.",
                        es: "Ambientada durante una temporada de presentaciones, esta película sigue al Joffrey Ballet de Chicago y a una joven bailarina mientras se prepara para su papel en la última producción de la compañía.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Vudu",
                        es: "Disponible en Amazon Prime Video, Vudu",
                    },
                    backgroundColor: "#2a5c9c",
                },
                {
                    id: "billy-elliot",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/BillyElliot-movie-e1768341746497.png",
                    headline: {
                        en: "Billy Elliot",
                        es: "Billy Elliot",
                    },
                    description: {
                        en: "A young boy discovers his passion for ballet against all odds.",
                        es: "Un joven descubre su pasión por el ballet contra todo pronóstico.",
                    },
                    plot: {
                        en: "In a northern English mining town during the 1984 miners' strike, an 11-year-old boy stumbles out of the boxing ring and into a ballet class, discovering a hidden talent and passion that transforms his life and his family.",
                        es: "En un pueblo minero del norte de Inglaterra durante la huelga de mineros de 1984, un niño de 11 años sale del ring de boxeo y entra a una clase de ballet, descubriendo un talento y pasión ocultos que transforman su vida y su familia.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Apple TV, Peacock",
                        es: "Disponible en Amazon Prime Video, Apple TV, Peacock",
                    },
                    backgroundColor: "#9abd5b",
                },
                {
                    id: "dancers",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/Dancers-movie-e1768341851142.png",
                    headline: {
                        en: "Dancers",
                        es: "Bailarines",
                    },
                    description: {
                        en: "A world-renowned male Russian ballet superstar sees his life in fiction and reality through the lenses of the ballet Giselle and his role as Albrecht.",
                        es: "Una superestrella masculina rusa del ballet ve su vida en ficción y realidad a través del ballet Giselle y su papel como Albrecht.",
                    },
                    plot: {
                        en: "Mikhail Baryshnikov stars as a world-famous ballet dancer whose life parallels the role of Albrecht in Giselle. As he prepares for a performance, the lines between his real-life relationships and the romantic tragedy on stage begin to blur.",
                        es: "Mikhail Baryshnikov protagoniza como un bailarín de ballet mundialmente famoso cuya vida es paralela al papel de Albrecht en Giselle. Mientras se prepara para una presentación, las líneas entre sus relaciones de la vida real y la tragedia romántica en el escenario comienzan a difuminarse.",
                    },
                    whereToWatch: {
                        en: "Available on Criterion Channel, Amazon Prime Video",
                        es: "Disponible en Criterion Channel, Amazon Prime Video",
                    },
                    backgroundColor: "#866c58",
                },
                {
                    id: "leap",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/Ballerina-movie-e1768341951470.png",
                    headline: {
                        en: "Leap!",
                        es: "Bailarina",
                    },
                    description: {
                        en: "A young aspiring ballerina overcomes challenges to achieve her dreams.",
                        es: "Una joven aspirante a bailarina supera desafíos para alcanzar sus sueños.",
                    },
                    plot: {
                        en: "An orphan girl dreams of becoming a ballerina and escapes to Paris, where she poses as a student at the Grand Opera House. With determination and the help of new friends, she fights to make her impossible dream come true.",
                        es: "Una niña huérfana sueña con convertirse en bailarina y escapa a París, donde se hace pasar por estudiante en la Grand Opera House. Con determinación y la ayuda de nuevos amigos, lucha por hacer realidad su sueño imposible.",
                    },
                    whereToWatch: {
                        en: "Available on Netflix, Amazon Prime Video, Disney+",
                        es: "Disponible en Netflix, Amazon Prime Video, Disney+",
                    },
                    backgroundColor: "#fbca8b",
                },
                {
                    id: "the-red-shoes",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/The-red-shoes-movie-e1768342869899.png",
                    headline: {
                        en: "The Red Shoes",
                        es: "Las Zapatillas Rojas",
                    },
                    description: {
                        en: "A ballerina torn between love and her dedication to dance.",
                        es: "Una bailarina dividida entre el amor y su dedicación a la danza.",
                    },
                    plot: {
                        en: "A young ballerina joins a prestigious ballet company and becomes the lead dancer in a new production of 'The Red Shoes.' As her career soars, she must choose between the man she loves and her passion for dance in this classic tale of obsession and sacrifice.",
                        es: "Una joven bailarina se une a una prestigiosa compañía de ballet y se convierte en la bailarina principal en una nueva producción de 'Las Zapatillas Rojas'. A medida que su carrera se dispara, debe elegir entre el hombre que ama y su pasión por la danza en este clásico cuento de obsesión y sacrificio.",
                    },
                    whereToWatch: {
                        en: "Available on Criterion Channel, HBO Max, Amazon Prime Video",
                        es: "Disponible en Criterion Channel, HBO Max, Amazon Prime Video",
                    },
                    backgroundColor: "#fc1c17",
                },
                {
                    id: "black-swan",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/Blackswan.png",
                    headline: {
                        en: "Black Swan",
                        es: "Cisne Negro",
                    },
                    description: {
                        en: "A psychological thriller about a ballerina's descent into madness.",
                        es: "Un thriller psicológico sobre el descenso de una bailarina hacia la locura.",
                    },
                    plot: {
                        en: "A committed ballerina wins the role of the Swan Queen in a production of Swan Lake. As she strives for perfection, the pressure and competition with a rival dancer push her into a psychological breakdown, blurring the line between reality and dark obsession.",
                        es: "Una bailarina comprometida gana el papel de la Reina Cisne en una producción de El Lago de los Cisnes. Mientras se esfuerza por la perfección, la presión y la competencia con una bailarina rival la empujan hacia un colapso psicológico, difuminando la línea entre la realidad y la oscura obsesión.",
                    },
                    whereToWatch: {
                        en: "Available on Netflix, Hulu, Amazon Prime Video",
                        es: "Disponible en Netflix, Hulu, Amazon Prime Video",
                    },
                    backgroundColor: "#16171c",
                },
                {
                    id: "ballet-shoes",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/Ballet-shoes-movie-e1768342093304.png",
                    headline: {
                        en: "Ballet Shoes",
                        es: "Zapatillas de Ballet",
                    },
                    description: {
                        en: "Three orphaned sisters pursue their dreams of becoming dancers and actresses.",
                        es: "Tres hermanas huérfanas persiguen sus sueños de convertirse en bailarinas y actrices.",
                    },
                    plot: {
                        en: "Three adopted sisters in 1930s London vow to make a name for themselves and find their own way in the world. While one becomes a brilliant ballerina, the others discover their own unique talents in acting and aviation.",
                        es: "Tres hermanas adoptadas en el Londres de los años 30 prometen hacerse un nombre y encontrar su propio camino en el mundo. Mientras una se convierte en una brillante bailarina, las otras descubren sus propios talentos únicos en la actuación y la aviación.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Apple TV",
                        es: "Disponible en Amazon Prime Video, Apple TV",
                    },
                    backgroundColor: "#f9927e",
                },
                {
                    id: "high-strung",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/High-strung-movie-e1768342187546.png",
                    headline: {
                        en: "High Strung",
                        es: "Alta Tensión",
                    },
                    description: {
                        en: "A classical dancer and a street musician collaborate to create a unique performance.",
                        es: "Una bailarina clásica y un músico callejero colaboran para crear una actuación única.",
                    },
                    plot: {
                        en: "A young violinist from the subway and a classical ballet dancer from Manhattan's elite academy discover a surprising connection through music and dance. Together, they create a groundbreaking performance that merges their different worlds.",
                        es: "Un joven violinista del metro y una bailarina de ballet clásica de la academia de élite de Manhattan descubren una conexión sorprendente a través de la música y la danza. Juntos, crean una actuación innovadora que fusiona sus diferentes mundos.",
                    },
                    whereToWatch: {
                        en: "Available on Netflix, Amazon Prime Video",
                        es: "Disponible en Netflix, Amazon Prime Video",
                    },
                    backgroundColor: "#9f68b2",
                },
                {
                    id: "dance-academy",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/DanceAdademy-movie-e1768411563340.png",
                    headline: {
                        en: "Dance Academy The Movie",
                        es: "Academia de Danza La Película",
                    },
                    description: {
                        en: "The comeback of your favorite dancers in the Dance Academy series as they reunite for an international competition.",
                        es: "El regreso de tus bailarines favoritos de la serie Academia de Danza mientras se reúnen para una competencia internacional.",
                    },
                    plot: {
                        en: "Former students of the National Academy of Dance reunite for one final performance at the Prix de Fonteyn international ballet competition in Sydney. Tara Webster must overcome a career-ending injury to dance again and pursue her dreams.",
                        es: "Ex-estudiantes de la Academia Nacional de Danza se reúnen para una última presentación en la competencia internacional de ballet Prix de Fonteyn en Sídney. Tara Webster debe superar una lesión que terminó su carrera para volver a bailar y perseguir sus sueños.",
                    },
                    whereToWatch: {
                        en: "Available on Netflix, Amazon Prime Video",
                        es: "Disponible en Netflix, Amazon Prime Video",
                    },
                    backgroundColor: "#4386c1",
                },
                {
                    id: "the-bolshoi",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/The-Bolshoi-movie-e1768342417745.png",
                    headline: {
                        en: "The Bolshoi",
                        es: "El Bolshoi",
                    },
                    description: {
                        en: "From the streets of Moscow to one of the most prestigious ballet school and companies of the world, follow the journey of this ballerina.",
                        es: "Desde las calles de Moscú hasta una de las escuelas y compañías de ballet más prestigiosas del mundo, sigue el viaje de esta bailarina.",
                    },
                    plot: {
                        en: "A young girl from humble beginnings in Moscow dreams of dancing at the legendary Bolshoi Ballet. Through determination, talent, and sacrifice, she fights her way from the streets to the most prestigious stage in Russia.",
                        es: "Una joven de orígenes humildes en Moscú sueña con bailar en el legendario Ballet Bolshoi. A través de determinación, talento y sacrificio, lucha desde las calles hasta el escenario más prestigioso de Rusia.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Apple TV",
                        es: "Disponible en Amazon Prime Video, Apple TV",
                    },
                    backgroundColor: "#2e3999",
                },
                {
                    id: "the-turning-point",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/The-turning-point-movie-e1768342561108.png",
                    headline: {
                        en: "The Turning Point",
                        es: "El Punto de Giro",
                    },
                    description: {
                        en: "A former ballerina confronts her past when her daughter joins the same dance company.",
                        es: "Una ex bailarina confronta su pasado cuando su hija se une a la misma compañía de danza.",
                    },
                    plot: {
                        en: "Two former ballet dancers reunite after years apart when one's daughter joins the American Ballet Company. As old rivalries resurface, they must confront the choices they made and the paths not taken in this emotional drama about ambition, friendship, and sacrifice.",
                        es: "Dos ex bailarinas de ballet se reúnen después de años separadas cuando la hija de una se une a la American Ballet Company. A medida que resurgen viejas rivalidades, deben confrontar las elecciones que hicieron y los caminos no tomados en este drama emocional sobre ambición, amistad y sacrificio.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Apple TV, Vudu",
                        es: "Disponible en Amazon Prime Video, Apple TV, Vudu",
                    },
                    backgroundColor: "#5f7094",
                },
                {
                    id: "my-dad-is-baryshnikov",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/MyDadisBaryshnikov-movie-e1768342660802.png",
                    headline: {
                        en: "My Dad is Baryshnikov",
                        es: "Mi Papá es Baryshnikov",
                    },
                    description: {
                        en: "A young boy discovers his passion for ballet against all odds.",
                        es: "Un joven descubre su pasión por el ballet contra todo pronóstico.",
                    },
                    plot: {
                        en: "A young boy becomes obsessed with ballet and the legendary dancer Mikhail Baryshnikov. Despite facing ridicule and opposition from his peers and family, he pursues his dream with unwavering determination, finding inspiration in his idol.",
                        es: "Un joven se obsesiona con el ballet y el legendario bailarín Mikhail Baryshnikov. A pesar de enfrentar burlas y oposición de sus compañeros y familia, persigue su sueño con determinación inquebrantable, encontrando inspiración en su ídolo.",
                    },
                    whereToWatch: {
                        en: "Available on specialized streaming platforms",
                        es: "Disponible en plataformas de streaming especializadas",
                    },
                    backgroundColor: "#d9b382",
                },
                {
                    id: "the-white-crow",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/The-white-crow-movie-e1768342734970.png",
                    headline: {
                        en: "The White Crow",
                        es: "El Cuervo Blanco",
                    },
                    description: {
                        en: "The story of Rudolf Nureyev, one of the greatest ballet dancers of the 20th century.",
                        es: "La historia de Rudolf Nureyev, uno de los más grandes bailarines de ballet del siglo XX.",
                    },
                    plot: {
                        en: "The story of legendary dancer Rudolf Nureyev's dramatic defection from the Soviet Union to the West in 1961. The film explores his early life in Russia, his meteoric rise as a dancer, and the life-changing decision that made him a global icon.",
                        es: "La historia de la dramática deserción del legendario bailarín Rudolf Nureyev de la Unión Soviética a Occidente en 1961. La película explora su vida temprana en Rusia, su meterica ascensión como bailarín y la decisión que cambió su vida y lo convirtió en un ícono global.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Apple TV, Hulu",
                        es: "Disponible en Amazon Prime Video, Apple TV, Hulu",
                    },
                    backgroundColor: "#524855",
                },
                {
                    id: "la-danseuse",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/LaDanseuse-movie-e1768415521832.png",
                    headline: {
                        en: "La Danseuse",
                        es: "La Bailarina",
                    },
                    description: {
                        en: "The story of a pioneering female dancer who challenged conventions and changed the world of ballet.",
                        es: "La historia de una bailarina pionera que desafió las convenciones y cambió el mundo del ballet.",
                    },
                    plot: {
                        en: "The life of Loïe Fuller, the American dancer who became a sensation in Belle Époque Paris. Her innovative use of fabric, light, and movement revolutionized dance and made her one of the most influential performers of her time.",
                        es: "La vida de Loïe Fuller, la bailarina estadounidense que se convirtió en una sensación en el París de la Belle Époque. Su uso innovador de tela, luz y movimiento revolucionó la danza y la convirtió en una de las intérpretes más influyentes de su tiempo.",
                    },
                    whereToWatch: {
                        en: "Available on Amazon Prime Video, Kanopy",
                        es: "Disponible en Amazon Prime Video, Kanopy",
                    },
                    backgroundColor: "#0a4964",
                },
                {
                    id: "love-tomorrow",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/Love-tomorrow-movie-4-e1768340607421.png",
                    headline: {
                        en: "Love Tomorrow",
                        es: "Amar Mañana",
                    },
                    description: {
                        en: "One dancer with terrible news, one friendship that changes everything, one love that blooms in unexpected ways.",
                        es: "Una bailarina con noticias terribles, una amistad que lo cambia todo, un amor que florece de maneras inesperadas.",
                    },
                    plot: {
                        en: "A talented ballerina receives devastating news that threatens to end her career. Through an unexpected friendship and the discovery of love in the most surprising place, she learns that life's greatest performances happen off stage.",
                        es: "Una talentosa bailarina recibe noticias devastadoras que amenazan con terminar su carrera. A través de una amistad inesperada y el descubrimiento del amor en el lugar más sorprendente, aprende que las mejores actuaciones de la vida suceden fuera del escenario.",
                    },
                    whereToWatch: {
                        en: "Available on independent streaming platforms",
                        es: "Disponible en plataformas de streaming independientes",
                    },
                    backgroundColor: "#302425",
                },
                {
                    id: "dream-ballerina",
                    image: "https://www.feel-like-dancing.com/tiendadeballet/wp-content/uploads/2026/01/Dream-ballerina-movie.png",
                    headline: {
                        en: "Dream Ballerina",
                        es: "Bailarina de Ensueño",
                    },
                    description: {
                        en: "A local ballerina in a small French town performs poorly but her dreams change her life forever.",
                        es: "Una bailarina local en un pequeño pueblo francés tiene un mal desempeño, pero sus sueños cambian su vida para siempre.",
                    },
                    plot: {
                        en: "In a quiet French village, a struggling ballerina's performances fail to impress. But when her vivid dreams begin to unlock her true potential, she discovers that the key to her success lies in embracing her unique artistic vision.",
                        es: "En un tranquilo pueblo francés, las presentaciones de una bailarina en apuros no logran impresionar. Pero cuando sus vívidos sueños comienzan a desbloquear su verdadero potencial, descubre que la clave de su éxito radica en abrazar su visión artística única.",
                    },
                    whereToWatch: {
                        en: "Available on European streaming platforms",
                        es: "Disponible en plataformas de streaming europeas",
                    },
                    backgroundColor: "#b43d3c",
                },
            ];

            // Current language
            let currentLang = "en";

            // Populate slides with content BEFORE initializing Swiper

            const createSlide = (slideData, lang) => {
                // Clear existing slides
                document.querySelector(".swiper-wrapper").innerHTML = "";

                slideData.forEach((data) => {
                    const slideElement = buildSlideElement(data, lang);
                    document
                        .querySelector(".swiper-wrapper")
                        .appendChild(slideElement);
                });
            };

            const buildSlideElement = (slideData, lang) => {
                const slide = document.createElement("div");
                slide.classList.add("swiper-slide");

                const slideContainer = document.createElement("div");
                slideContainer.classList.add("slide-container");
                slideContainer.style.backgroundColor =
                    slideData.backgroundColor;

                const slideImage = document.createElement("div");
                slideImage.classList.add("slide-image");
                slideImage.style.backgroundImage = `url(${slideData.image})`;

                const slideCopy = document.createElement("div");
                slideCopy.classList.add("slide-copy");
                const headline =
                    typeof slideData.headline === "object"
                        ? slideData.headline[lang]
                        : slideData.headline;
                const description =
                    typeof slideData.description === "object"
                        ? slideData.description[lang]
                        : slideData.description;
                slideCopy.innerHTML = `<h2>${headline}</h2><p>${description}</p>`;

                slideContainer.appendChild(slideImage);
                slideContainer.appendChild(slideCopy);
                slide.appendChild(slideContainer);

                return slide;
            };

            createSlide(data, currentLang);

            // Initialize Swiper AFTER content is populated
            const swiper = new Swiper(".swiper", {
                // Optional parameters
                direction: "horizontal",
                loop: true,
                allowTouchMove: true,
                /****** Fade Effect ******/
                // fadeEffect: {
                // crossFade: true // Crossfade between slides
                // },
                //  effect: 'fade',
                /****** Coverflow Effect ******/
                // effect: 'coverflow',
                // coverflowEffect: {
                //     depth: 25, // Depth of the coverflow effect
                //     rotate: 50, // Rotate the slides
                //     stretch: 10, // Stretch the slides
                //     slideShadows: true, // Enable shadows on the slides
                //     modifier: 1, // Modifier for the coverflow effect
                //     scale: 1.2, // Scale the slides
                // },
                /****** Flip Effect ******/
                // effect: 'flip',
                // flipEffect: {
                //     slideShadows: true, // Enable shadows on the slides
                //     limitRotation: true, // Limit rotation to 180 degrees
                // },
                /****** Cube Effect ******/
                effect: 'cube',
                // cubeEffect: {
                //     slideShadows: true, // Enable shadows on the slides
                //     shadow: true, // Enable shadow on the slides
                //     shadowScale: 0.94, // Scale of the shadow
                //     shadowOffset: 2, // Offset of the shadow
                // },
                /****** Cards Effect ******/
                // effect: "cards",
                // cardsEffect: {
                //     slideShadows: true, // Enable shadows on the slides
                //     rotate: true, // Enable rotation of the slides
                //     perSlideRotate: 10, // Rotation per slide
                //     perSlideOffset: 20, // Offset per slide
                // },
                /****** Creative Effect ******/
                // effect: 'creative',
                // creativeEffect: {
                //     limitProgress: 0.5, // Limit the progress of the creative effect
                //     progressMultiplier: 1, // Multiplier for the progress
                //     prev: {
                //         translate: ['-5%', 0, -200], // Translate the previous slide
                //         rotate: [0, 0, -90], // Rotate the previous slide
                //         opacity: 0.5, // Opacity of the previous slide
                //     },
                //     next: {
                //         translate: ['5%', 0, -200], // Translate the next slide
                //         rotate: [0, 0, 90], // Rotate the next slide
                //         opacity: 0.5, // Opacity of the next slide
                //     },
                // },
                slidesPerView: 1, // Number of slides to show at once

                // If we need pagination
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    type: "fraction",
                    renderFraction: function (currentClass, totalClass) {
                        return (
                            '<span class="' +
                            currentClass +
                            '"></span>' +
                            " of " +
                            '<span class="' +
                            totalClass +
                            '"></span>'
                        );
                    },
                    //  type: 'bullets',
                    // renderBullet: (index, className) => {
                    //     return `<span class="${className}"><span>${index + 1}</span></span> `;
                    // },
                    // type: 'progressbar',
                    // renderProgressbar: function (progressbarFillClass) {
                    //     return '<span class="' + progressbarFillClass + '"></span>';
                    // },
                },

                // Navigation arrows
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },

                // And if we need scrollbar
                scrollbar: {
                    el: ".swiper-scrollbar",
                    draggable: true,
                },

                // Optional: log slide changes
                on: {
                    slideChange: function () {
                        console.log("Slide changed to:", this.realIndex);
                    },
                },
            });

            // ===== MOVIE GRID FUNCTIONALITY =====

            // LocalStorage key for saving movie watchlist data
            const STORAGE_KEY = "balletMoviesWatchlist";

            // Load saved data from localStorage
            function loadWatchlistData() {
                const saved = localStorage.getItem(STORAGE_KEY);
                return saved ? JSON.parse(saved) : {};
            }

            // Save data to localStorage
            function saveWatchlistData(movieId, watched, wantToWatch) {
                const watchlistData = loadWatchlistData();
                watchlistData[movieId] = { watched, wantToWatch };
                localStorage.setItem(STORAGE_KEY, JSON.stringify(watchlistData));
            }

            // Get saved state for a specific movie
            function getMovieState(movieId) {
                const watchlistData = loadWatchlistData();
                return watchlistData[movieId] || { watched: false, wantToWatch: false };
            }

            // Create a movie card element
            function createMovieCard(movieData, lang) {
                const card = document.createElement("div");
                card.classList.add("movie-card");
                
                // Apply background color with opacity for glassmorphism
                if (movieData.backgroundColor) {
                    card.style.background = `linear-gradient(135deg, ${movieData.backgroundColor}33, ${movieData.backgroundColor}55)`;
                }

                const thumbnail = document.createElement("div");
                thumbnail.classList.add("movie-thumbnail");
                thumbnail.style.backgroundImage = `url(${movieData.image})`;

                const content = document.createElement("div");
                content.classList.add("movie-card-content");

                const title = document.createElement("h3");
                title.classList.add("movie-title");
                const titleText = typeof movieData.headline === "object" 
                    ? movieData.headline[lang] 
                    : movieData.headline;
                title.textContent = titleText;

                const checkboxGroup = document.createElement("div");
                checkboxGroup.classList.add("checkbox-group");

                // Get saved state
                const savedState = getMovieState(movieData.id);

                // "I watched it" checkbox
                const watchedWrapper = document.createElement("div");
                watchedWrapper.classList.add("checkbox-wrapper");
                const watchedCheckbox = document.createElement("input");
                watchedCheckbox.type = "checkbox";
                watchedCheckbox.id = `watched-${movieData.id}`;
                watchedCheckbox.checked = savedState.watched;
                const watchedLabel = document.createElement("label");
                watchedLabel.setAttribute("for", `watched-${movieData.id}`);
                watchedLabel.textContent = lang === "en" ? "I watched it" : "Ya la vi";
                watchedWrapper.appendChild(watchedCheckbox);
                watchedWrapper.appendChild(watchedLabel);

                // "I want to watch" checkbox
                const wantWrapper = document.createElement("div");
                wantWrapper.classList.add("checkbox-wrapper");
                const wantCheckbox = document.createElement("input");
                wantCheckbox.type = "checkbox";
                wantCheckbox.id = `want-${movieData.id}`;
                wantCheckbox.checked = savedState.wantToWatch;
                const wantLabel = document.createElement("label");
                wantLabel.setAttribute("for", `want-${movieData.id}`);
                wantLabel.textContent = lang === "en" ? "I want to watch" : "Quiero verla";
                wantWrapper.appendChild(wantCheckbox);
                wantWrapper.appendChild(wantLabel);

                // Add event listeners for checkboxes (mutually exclusive)
                watchedCheckbox.addEventListener("change", (e) => {
                    if (e.target.checked) {
                        wantCheckbox.checked = false;
                    }
                    saveWatchlistData(movieData.id, e.target.checked, wantCheckbox.checked);
                });
                wantCheckbox.addEventListener("change", (e) => {
                    if (e.target.checked) {
                        watchedCheckbox.checked = false;
                    }
                    saveWatchlistData(movieData.id, watchedCheckbox.checked, e.target.checked);
                });

                checkboxGroup.appendChild(watchedWrapper);
                checkboxGroup.appendChild(wantWrapper);

                // Collapsible section
                const collapsibleSection = document.createElement("div");
                collapsibleSection.classList.add("collapsible-section");

                const toggleButton = document.createElement("button");
                toggleButton.classList.add("collapse-toggle");
                toggleButton.innerHTML = `
                    <span>${lang === "en" ? "More Details" : "Más Detalles"}</span>
                    <span class="collapse-toggle-icon">▼</span>
                `;

                const collapseContent = document.createElement("div");
                collapseContent.classList.add("collapse-content");

                const plot = document.createElement("p");
                plot.classList.add("movie-plot");
                const plotText = typeof movieData.plot === "object" 
                    ? movieData.plot[lang] 
                    : movieData.plot || (lang === "en" ? "Plot information coming soon." : "Información de la trama próximamente.");
                plot.textContent = plotText;

                const watchInfo = document.createElement("div");
                watchInfo.classList.add("watch-info");
                const watchInfoTitle = document.createElement("h4");
                watchInfoTitle.textContent = lang === "en" ? "Where to Watch:" : "Dónde Verla:";
                const watchInfoText = document.createElement("p");
                const whereToWatchText = typeof movieData.whereToWatch === "object" 
                    ? movieData.whereToWatch[lang] 
                    : movieData.whereToWatch || (lang === "en" ? "Check local streaming services" : "Consulta servicios de streaming locales");
                watchInfoText.textContent = whereToWatchText;
                watchInfo.appendChild(watchInfoTitle);
                watchInfo.appendChild(watchInfoText);

                collapseContent.appendChild(plot);
                collapseContent.appendChild(watchInfo);

                // Toggle functionality
                toggleButton.addEventListener("click", () => {
                    toggleButton.classList.toggle("active");
                    collapseContent.classList.toggle("active");
                });

                collapsibleSection.appendChild(toggleButton);
                collapsibleSection.appendChild(collapseContent);

                content.appendChild(title);
                content.appendChild(checkboxGroup);
                content.appendChild(collapsibleSection);

                card.appendChild(thumbnail);
                card.appendChild(content);

                return card;
            }

            // Generate and populate the movie grid
            function createMovieGrid(movieData, lang) {
                const gridContainer = document.getElementById("movieGrid");
                gridContainer.innerHTML = ""; // Clear existing content

                movieData.forEach(movie => {
                    const card = createMovieCard(movie, lang);
                    gridContainer.appendChild(card);
                });
            }

            // Initialize the movie grid
            createMovieGrid(data, currentLang);

            // Language Switcher Event Listeners
            document
                .getElementById("lang-en")
                .addEventListener("click", function () {
                    if (currentLang !== "en") {
                        currentLang = "en";
                        const currentIndex = swiper.realIndex;
                        
                        // Update slideshow
                        createSlide(data, currentLang);
                        swiper.update();
                        swiper.slideTo(currentIndex);

                        // Update grid title and content
                        document.querySelector(".grid-title").textContent = "Ballet Movies Collection";
                        createMovieGrid(data, currentLang);

                        // Update active button
                        document
                            .querySelectorAll(".lang-btn")
                            .forEach((btn) => btn.classList.remove("active"));
                        this.classList.add("active");
                    }
                });

            document
                .getElementById("lang-es")
                .addEventListener("click", function () {
                    if (currentLang !== "es") {
                        currentLang = "es";
                        const currentIndex = swiper.realIndex;
                        
                        // Update slideshow
                        createSlide(data, currentLang);
                        swiper.update();
                        swiper.slideTo(currentIndex);

                        // Update grid title and content
                        document.querySelector(".grid-title").textContent = "Colección de Películas de Ballet";
                        createMovieGrid(data, currentLang);

                        // Update active button
                        document
                            .querySelectorAll(".lang-btn")
                            .forEach((btn) => btn.classList.remove("active"));
                        this.classList.add("active");
                    }
                });
        </script>
    </body>
</html>
