<!DOCTYPE html PUBLIC>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Twitter Animation</title>
    <!-- Insert your code here //-->
    <script type="text/javascript" src="scripts/jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            var url = "https://api.twitter.com/1.1/search/tweets.json",
               header ='authorization: OAuth oauth_consumer_key="VuzmMQNTfurP7A6Y40UFLD1Stp"',
                    oauth_nonce="generated-nonce", oauth_signature="generated-signature",
                oauth_signature_method="HMAC-SHA1", oauth_timestamp="generated-timestamp",
                oauth_token="87466575-4s1E7WpWSx3McnxlF4cDECHOvGx5EG2XqLHsutWb5";
            var tweets = $('<ul id="tweets">').appendTo("#tweetscontainer");
            $.getJSON(url, header, function(data){
                $.each(data.results, function(i,item){
                    tweets.append('<li><div><img src="' + item.profile_image_url +'" alt="'
                        + item.from_user + '" width="73" height="73" /><p><a href="http://twitter.com/'
                        +item.from_user+'/statuses/'+item.id+'" title="Click here to view this on twitter">'
                        +item.from_user+'</a> at '+item.created_at+': '+item.text.replace(/(\w+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+)/gi, '<a href="$1">$1</a>').replace(/[\@]+([A-Za-z0-9-_]+)/gi, '<a href="http://twitter.com/$1">@$1</a>')
                        +'</p></div></li>');
                    var speed=Math.floor(Math.random()*10)+1;
                    var offsettop=Math.floor(Math.random()*400)+10;
                    $("#tweets li:last").data("speed",speed).css({top:offsettop,right:2000+(i*30)});
                });
                var t = setInterval(function(){
                    $("#tweets li").not(".hover").each(function(){
                        speed = $(this).data("speed");
                        xpos = $(this).css("left");
                        if(parseInt(xpos)<-330) {
                            $(this).stop().css({left:2000});
                            xpos = 2000;
                        }
                        newxpos = parseInt(xpos)-parseInt(speed);
                        $(this).css({left:newxpos});
                    });
                },30);
                $("#tweets li").hover(function(){
                    $(this).addClass("hover");
                    $(this).css({zIndex:1000});
                },function(){
                    $(this).removeClass("hover");
                });
            });

            BirdTypes = new Array(3);
            BirdTypes[0] = ["L", 35000, 8000];
            BirdTypes[1] = ["M", 40000, 20000];
            BirdTypes[2] = ["S", 45000, 30000];

            for (i = 0; i < BirdTypes.length; ++i) {
                moveBird(BirdTypes[i][0], BirdTypes[i][1], BirdTypes[i][2]);
            }

        });

        function moveBird(id, speed, initialspeed) {
            console.log('[moveBird] id: ' + id)
            if (parseInt($("#bird" + id).css("left")) == 100) {
                // Second or + movement, final speed
                $("#bird" + id).css("left", "-220px");
                this.speed = speed;
            } else {
                // First time it's moving, so start at initial speed
                this.speed = initialspeed;
            }

            $("#bird" + id).animate({left:"-100%"}, this.speed, "linear", function() {
                console.log("finished animating bird id#" + id)
                $('#bird' + id).css('left', '0');
                moveBird(id, speed, initialspeed);
            });

            // setTimeout(function() {
            //     moveBird(id, speed);
            // }, this.speed + 100);
            // setTimeout("moveBird('" + id + "', "+ speed +")", this.speed+100);
        }

    </script>
    <style>
        body {
            font-family:	arial, helv, sans-serif;
            font-size:		66%;
            background:		#f9f9f9;
            padding:		20px;
        }

        #container {
            position:		relative;
            width:			1024px;
            height:			700px;
            margin:			auto;
            background:		transparent url(styles/background.jpg) no-repeat top left;
            border:			20px solid white;
            box-shadow:		0px 0px 10px #000;
            overflow:		hidden;
        }

        #trees {
            position:		relative;
            width:			1024px;
            height:			700px;
            margin:			auto;
            background:		transparent url(styles/trees.png) no-repeat top left;
        }

        #tweets {
            position:		absolute;
            top:			0;
            left:			0;
            width:			2000px;
            margin-left:	-300px;
            padding:		0;
            font-size:		1em;
        }

        #tweets li {
            position:		absolute;
            top:			100px;
            left:			2000px;
            margin:			0;
            padding:		0;
            list-style:		none;
            clear:			left;
            background:		transparent url(styles/smallbird.png) no-repeat center center;
            width:			200px;
            height:			117px;
        }

        #tweets li div {
            display:		none;
            padding:		10px;
            background:		rgba(0,0,0,0.7);
            color:			#fff;
            min-height:		93px;
            margin-top:		100px;
        }

        #tweets li:hover div {
            display:		block;
        }

        #tweets li div img {
            float:			left;
            margin:			0px 10px 10px 0px;
        }

        #tweets li p {
            padding:		0;
            margin-top:		0;
            margin-left:	87px;
        }

        #tweets li a {
            font-weight:	bold;
            text-decoration:none;
            color:			#CF6;
        }

        #tweets li a:hover {
            text-decoration:underline;
        }

        img#birdL {
            position: absolute;
            z-index: 13;
            top: 100px;
            left: 70%;
        }

        img#birdM {
            position: absolute;
            z-index: 16;
            top: 200px;
            left: 50%;
        }

        img#birdS {
            position: absolute;
            z-index: 10;
            top: 150px;
            left: 15%;
        }
        div#content {
            position: absolute;
            z-index: 10;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: none;
        }

    </style>
    <!-- End Insert code area //-->
</head>
<body>
<div id="container">
    <div id="content" style="display: inline-block">
    <img src="img/bird.png" id="birdL">
    <img src="img/smallbird.png" id="birdM">
    <img src="img/smallbird.png" id="birdS">
    </div>
    <div id="trees">
        <div id="tweetscontainer">
        </div>
    </div>
</div>
</body>
</html>
